\section{Модуль интеграции с OpenGL}

Данный модуль использует стороннюю библиотеку LWJGL, представляющую собой оболочку над библиотекой OpenGL, реализованной
на более низкоуровневых языках, чем Java. Цель данного модуля "--- предоставить удобный интерфейс для запуска
приложения, использующего одновременно и библиотеку LWJGL, и описанный ранее модуль рендеринга для визуализации миров с
3D-объектами.

Модуль состоит из следующих пакетов:

\begin{itemize}

\item \texttt{delegate}. Содержит всего один класс \texttt{OpenGLRenderingDelegate}, который является реализацией
интерфейса \texttt{RenderingDelegate}, необходимой для работы модуля рендеринга. Данный класс реализует операции
отрисовки на экране примитивных элементов посредством использования функций, предоставляемых библиотекой LWJGL.

\item \texttt{actions}. Содержит несколько реализаций интерфейса \texttt{RenderingAction} для отрисовки на экране
дополнительных элементов поверх проекции 3D-объектов на экран.

\item \texttt{handlers}. Содержит интерфейс \texttt{EventHandler} и несколько его реализаций. Эти реализации являются
callback'ами, вызываемыми в те моменты, когда OpenGL перехватывает одно из событий, таких как движение мыши или нажатие
кнопок на мыши или на клавиатуре.

    \begin{itemize}

    \item \texttt{mouse}. Содержит абстрактный класс \texttt{CameraControlHandler} и две его реализации:
    \texttt{TwoDimensionCameraControlHandler} и \texttt{ThreeDi\-mensionCamera\-ControlHandler}, "--- реализующие обработку
    событий от мыши в режимах, соответственно, 2D и 3D.

    \item \texttt{keyboard}. Содержит несколько классов, отвечающих за обработку нажатий различных управляющих клавиш на
    клавиатуре:

        \begin{itemize}
        \item \texttt{WorldSwitchHandler} "--- для переключения между 3D-мирами клавишами 2 и 8 на цифровой части
        клавиатуры;
        \item \texttt{ControlSwitchHandler} "--- для управления имеющимися в текущем мире рычагами управления, т.~е.
        реализациями интерфейса \texttt{Control} (например, для включения/выключения анимаций) при помощи кла\-виш-стрелок;
        \item \texttt{DisplaySettingsSwitchHandler} "--- для изменения различных настроек OpenGL, таких как
        включение/выключение сглаживания, вертикальной синхронизации или полноэкранного режима;
        \item \texttt{RenderingModeSwitchHandler} "--- для переключения между различными режимами рендеринга,
        поддерживаемыми в модуле рендеринга;
        \item \texttt{ScreenshotSaverHandler} "--- для сохранения скриншота с текущим изображением.
        \end{itemize}

    \end{itemize}

\item \texttt{runner}. Содержит класс \texttt{OpenGLRunner}, который является главной точкой взаимодействия с кодом-
клиентом. Именно через этот класс можно запустить приложение.

\end{itemize}

Опишем, по какому принципу работает класс \texttt{OpenGLRunner}. В целом, он работает по общепринятым правилам
использования библиотеки OpenGL.

Вначале в него передаются несколько реализаций интерфейса \texttt{WorldFac\-tory}. На этапе инициализации создаются миры
и передаются в объект класса \texttt{Rende\-ringEngine}. Далее запускается цикл, на каждой итерации которого отмеряется
время, прошедшее с момента предыдущей отрисовки изображения, в миллисекундах. Это время передаётся в
\texttt{RenderingEngine}, чтобы обновить анимацию движущихся объектов на заданный промежуток времени. Далее все
зарегистрированные реализации интерфейса \texttt{EventHandler} выполняют соответствующую обработку событий. Вслед
за этим цикл повторяется заново, и завершается только когда окно приложения будет закрыто.
