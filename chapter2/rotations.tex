\section{Представление поворотов}

Введём обозначение $O(3,R)$, под которым будем понимать множество квадратных матриц, удовлетворяющих следующему
равенству:

$$R^T R=I,$$

\noindent где $R \in O(3,R)$.

\begin{definition}
Матрицы из множества $O(3,R)$ называются \textbf{ортогональными матрицами}.
\end{definition}

Можно показать, что ортогональные матрицы образуют мультипликативную группу относительно операции умножения матриц, и
единицей в этой группе является единичная матрица третьего порядка $I$.

Введём также обозначение $SO(3,R)$ и будем понимать под ним множество ортогональных матриц, удовлетворяющих
следующему дополнительному условию:

$$\det R = 1,$$

\noindent где $R \in SO(3, R)$.

\begin{definition}
Матрицы из множества $SO(3,R)$ называются \textbf{собственно ортогональными матрицами}.
\end{definition}

Можно показать, что собственно ортогональные матрицы также образуют мультипликативную группу относительно операции
умножения матриц, и единицей в этой группе является единичная матрица $I$.

Собственно ортогональные матрицы удобно использовать в качестве представления поворота объекта в трёхмерном
пространстве. Пусть $n \in \mathbb{R}^3$ "--- единичный вектор, и $\phi \in \mathbb{R}$ "--- некоторый угол. Тогда
поворот объекта относительно оси~$n$ на угол~$\phi$ можно определить следующей формулой:

\begin{equation}
R(n,\phi)=
\left[ {\begin{array}{ccc}
    n_1^2+(1-n_1^2)\cos \phi                 & n_1 n_2\textrm{vers } \phi-n_3 \sin \phi & n_1 n_3\textrm{vers } \phi+n_2 \sin \phi \\
    n_2 n_1\textrm{vers } \phi+n_3 \sin \phi & n_2^2+(1-n_2^2)\cos \phi                 & n_2 n_3\textrm{vers } \phi-n_1 \sin \phi \\
    n_3 n_1\textrm{vers } \phi-n_2 \sin \phi & n_3 n_2\textrm{vers } \phi+n_1 \sin \phi & n_3^2+(1-n_3^2)\cos \phi                 \\
\end{array} } \right],
\label{rotation-matrix}
\end{equation}

\noindent где используется обозначение

$$\textrm{vers }\phi=1-\cos \phi.$$

Можно показать, что матрица $R(n,\phi)$ является собственно ортогональной. Кроме того, любая собственно ортогональная
матрица представима в виде формулы~(\ref{rotation-matrix}), т.~е. любая собственно ортогональная матрица
является поворотом относительно некоторой оси на некоторый угол. Матрицу $R(n,\phi)$ также называют
\textit{ортогональным поворотом}.

Пусть $p$ "--- точка трёхмерного объекта, определённая в системе координат, заданной относительно условного центра
объекта (точки опоры, pivot). Тогда определить координаты точки $p$ после поворота вокруг оси $n$ на угол $\phi$
можно по формуле:

$$
\tilde p=R(n,\phi)p.
$$

Также заметим, что собственно ортогональные матрицы обладают следующим свойством:

$$
R(n,\phi+\psi)=R(n,\phi)R(n,\psi)=R(n,\psi)R(n,\phi)
$$

Это означает, что поворот на угол $\phi+\psi$ эквивалентен последовательному повороту на углы $\phi$ и $\psi$ в
произвольном порядке.

Наконец, скажем, что собственно ортогональные матрицы могут рассматриваться не только как \textit{повороты}, т.~е. как
активные объекты, способные изменять положение в пространстве твёрдых трёхмерных объектов, но и как
\textit{ориентации}, т.~е. как пассивные объекты, описывающие положение твёрдых объектов. Таким образом, если мы назовём
исходное положение твёрдого объекта в пространстве его \textit{базовой ориентацией}, то матрица $R(n,\phi)$ будет
задавать ориентацию объекта, которая может быть получена после поворота объекта на угол $\phi$ вокруг оси $n$ из его
базовой ориентации.
