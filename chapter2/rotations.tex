\section{Представление поворотов}

Введём обозначение $O(3,R)$, под которым будем понимать множество квадратных матриц размерности 3, удовлетворяющих
следующему равенству:

$$R^T R=I,$$

\noindent где $R \in O(3,R)$.

\begin{definition}
Матрицы из множества $O(3,R)$ называются \textbf{ортогональными матрицами}.
\end{definition}

Можно показать, что ортогональные матрицы образуют мультипликативную группу относительно операции умножения матриц, и
единицей в этой группе является единичная матрица третьего порядка $I$.

Введём также обозначение $SO(3,R)$ и будем понимать под ним множество ортогональных матриц, удовлетворяющих
следующему дополнительному условию:

$$\det R = 1,$$

\noindent где $R \in SO(3, R)$.

\begin{definition}
Матрицы из множества $SO(3,R)$ называются \textbf{собственно ортогональными матрицами}.
\end{definition}

Можно показать, что собственно ортогональные матрицы также образуют мультипликативную группу относительно операции
умножения матриц, и единицей в этой группе является единичная матрица $I$.

Собственно ортогональные матрицы удобно использовать в качестве представления поворота объекта в трёхмерном
пространстве. Пусть $n \in \mathbb{R}^3$ "--- единичный вектор, и $\varphi \in \mathbb{R}$ "--- некоторый угол. Тогда
поворот объекта относительно оси $n=(n_1,n_2,n_3)$ на угол~$\varphi$ можно определить следующей формулой:

\begin{equation}
R(n,\varphi)=
\left[ {\begin{array}{ccc}
    n_1^2+(1-n_1^2)\cos\varphi     & n_1n_2\vers\varphi-n_3\sin\varphi & n_1n_3\vers\varphi+n_2\sin\varphi \\
    n_2n_1\vers\varphi+n_3\sin\varphi & n_2^2+(1-n_2^2)\cos\varphi     & n_2n_3\vers\varphi-n_1\sin\varphi \\
    n_3n_1\vers\varphi-n_2\sin\varphi & n_3n_2\vers\varphi+n_1\sin\varphi & n_3^2+(1-n_3^2)\cos\varphi     \\
\end{array} } \right],
\label{rotation-matrix}
\end{equation}

\noindent где используется обозначение

$$\vers\varphi=1-\cos\varphi.$$

Можно показать, что матрица $R(n,\varphi)$ является собственно ортогональной. Кроме того, любая собственно ортогональная
матрица представима в виде формулы~(\ref{rotation-matrix}), т.~е. любая собственно ортогональная матрица
является поворотом относительно некоторой оси $n=(n_1,n_2,n_3)$ на некоторый угол $\varphi$. Матрицу $R(n,\varphi)$
также называют \textit{ортогональным поворотом}.

Пусть $p$ "--- точка трёхмерного объекта, определённая в системе координат, заданной относительно условного центра
объекта (точки опоры, pivot). Тогда определить координаты точки $p$ после поворота вокруг оси $n$ на угол $\varphi$
можно по формуле:

$$
\tilde p=R(n,\varphi)p.
$$

Также заметим, что собственно ортогональные матрицы обладают следующим свойством:

$$
R(n,\varphi+\psi)=R(n,\varphi)R(n,\psi)=R(n,\psi)R(n,\varphi)
$$

Это означает, что поворот на угол $\varphi+\psi$ эквивалентен последовательному повороту на углы $\varphi$ и $\psi$ в
произвольном порядке.

Наконец, скажем, что собственно ортогональные матрицы могут рассматриваться не только как \textit{повороты}, т.~е. как
активные объекты, способные изменять положение в пространстве твёрдых трёхмерных объектов, но и как
\textit{ориентации}, т.~е. как пассивные объекты, описывающие положение твёрдых объектов. Таким образом, если мы назовём
исходное положение твёрдого объекта в пространстве его \textit{базовой ориентацией}, то матрица $R(n,\varphi)$ будет
задавать ориентацию объекта, которая может быть получена после поворота объекта на угол $\varphi$ вокруг оси $n$ из его
базовой ориентации.
